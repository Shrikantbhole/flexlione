<style>
  mat-header-cell {
    color: black;
    font-size: 14px;
    font-weight: bold
  }

  .highlight {
    background-color: #e8f0fe;
  }

  /* code inspired from https://www.w3schools.com/howto/tryit.asp?filename=tryhow_css_sidebar_responsive */
  .master {
    width: 345px;
    position: fixed;
    height: 90%;
    overflow: auto;
    border-right: 2px solid #dbdbdb;
  }

  div.detail {
    margin-left: 345px;
  }
</style>

<!-- the html tags for master and detail components are needed. They are same as selector tags
  mentioned in the component ts file. -->
<!-- master view component -->
<div class='master'>

  <div class="col-sm-12">
    <h2>Task List</h2>

    <p *ngIf="!taskList">Loading Tasks..</p>

    <div *ngIf="taskList">

      <br />
      <button mat-raised-button color="primary" (click)="onClick()">
         Create Task
      </button>

      <br />
      <br />

      <p *ngIf="taskList.length == 0">No Tasks exist.</p>

      <mat-list>
        <mat-divider></mat-divider>
        <mat-list-item *ngFor="let task of taskList"
                       [ngClass]="{highlight: task.taskId == selectedTaskId}"
                       (click)="onRowClick(task.taskId)"
                       [routerLink]='["/master"]' [queryParams]="{taskId: task.taskId}">

          <div mat-line>{{task.taskId}}</div>
          <div mat-line> ID: {{task.description}} </div>
          <button mat-icon-button [matMenuTriggerFor]="menu">
          </button>

          <mat-menu #menu="matMenu">

            <button mat-menu-item (click)="onClick()">
              <span>Delete</span>
            </button>
          </mat-menu>

          <mat-divider></mat-divider>
        </mat-list-item>


      </mat-list>

    </div>
  </div>
</div>

<!-- detail view component -->
<div class='detail'>
  <app-task-form></app-task-form>
</div>

